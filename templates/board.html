<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>B√†n c·ªù</title>
  <link rel="stylesheet" href="/static/css/board.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
</head>
<body>
  <!-- Loader overlay -->
  <div id="loader">
    <div class="spinner"></div>
  </div>
  <!-- N√∫t quay l·∫°i -->
  <button class="back-btn" onclick="window.location.href='/game'">‚Üê Tr·ªü l·∫°i b·∫Øt ƒë·∫ßu</button>

  <!-- Giao di·ªán ch·ªçn nh√¢n v·∫≠t -->
  <div id="character-selection" class="popup active">
    <h2>Ch·ªçn nh√¢n v·∫≠t c·ªßa b·∫°n</h2>
    <div class="characters">
      <img src="/static/images/char1.png" alt="Nh√¢n v·∫≠t 1" onclick="selectCharacter(1)">
      <img src="/static/images/char2.png" alt="Nh√¢n v·∫≠t 2" onclick="selectCharacter(2)">
    </div>
  </div>

  <!-- Hi·ªÉn th·ªã KPI sau khi ch·ªçn nh√¢n v·∫≠t -->
  <div id="kpi-popup" class="popup">
    <div class="kpi-popup">
      <h3>KPI c·ªßa b·∫°n</h3>
      <p id="kpi-text"></p>
      <button onclick="startGame()">B·∫Øt ƒë·∫ßu ch∆°i</button>
    </div>
  </div>

  <!-- B√†n c·ªù -->
  <div class="board-container hidden" id="board-container">
    <div class="board">
      <img class="logo" src="/static/images/logoo_sample.png" alt="">
      <img class="the_gieoque_1" src="/static/images/the_gieoque_1.png" alt="">
      <img class="the_gieoque_2" src="/static/images/the_gieoque_2.png" alt="">
        <!-- Bottom row: GO to THƒÇM T√ô (0 -> 10) -->
        <div class="corner" style="grid-column: 11; grid-row: 11;" data-index="0">
          <img class="corner-img" src="/static/images/corner_1.png" alt="GO">
          <div class="label" style="display: none;">GO</div>
        </div>
        <div class="tile-bottom" style="grid-column: 10; grid-row: 11;" data-index="1">
          <div class="color-bar-bottom brown"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">Mi·∫øu B√† Ch√∫a X·ª©</div>
          <div class="label">An Giang</div>
        </div>
        <div class="tile-bottom" style="grid-column: 9; grid-row: 11;" data-index="2">
          <img src="/static/images/tui_tien_duoi.png" width="480%" alt="">
          <div class="Gieo_Que"></div>
          <div class="label" style="display: none;">Gieo Qu·∫ª</div>
        </div>
        <div class="tile-bottom" style="grid-column: 8; grid-row: 11;" data-index="3">
          <div class="color-bar-bottom brown"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">L√†ng VH K'Tu</div>
          <div class="label">Kon Tum</div>
        </div>
        <div class="tile-bottom" style="grid-column: 7; grid-row: 11;" data-index="4">
          <div class="color-bar-bottom brown"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">B·∫øn Ninh Ki·ªÅu</div>
          <div class="label">C·∫ßn Th∆°</div>
        </div>
        <div class="tile-bottom" style="grid-column: 6; grid-row: 11;" data-index="5">
          <div class="color-bar-bottom brown"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">B·∫°ch Dinh</div>
          <div class="label">V≈©ng T√†u</div>
        </div>
        <div class="tile-bottom" style="grid-column: 5; grid-row: 11;" data-index="6">
          <div class="color-bar-bottom green"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">Di t√≠ch ƒê·ªÅn ƒê√¥</div>
          <div class="label">B·∫Øc Ninh</div>
        </div>
        <div class="tile-bottom" style="grid-column: 4; grid-row: 11;" data-index="7">
          <div class="color-bar-bottom green"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">C√°t B√†</div>  
          <div class="label">H·∫£i Ph√≤ng</div>
        </div>
        <div class="tile-bottom" style="grid-column: 3; grid-row: 11;" data-index="8">
          <div class="color-bar-bottom green"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">Di t√≠ch P√°c P√≥</div>
          <div class="label">Cao B·∫±ng</div>
        </div>
        <div class="tile-bottom" style="grid-column: 2; grid-row: 11;" data-index="9">
          <div class="color-bar-bottom green"></div>
          <!--<img src="/static/images/street1.png" alt="">-->
          <div class="place-name">LƒÉng B√°c</div>
          <div class="label">H√† N·ªôi</div>
        </div>
        <div class="corner" style="grid-column: 1; grid-row: 11;" data-index="10">
          <img class="corner-img" src="/static/images/corner_2.png" alt="V√†o T√π">
          <div class="label" style="display: none;">V√ÄO T√ô</div>
        </div>
      
        <!-- Left column: (11 -> 20) -->
        <div class="tile-left" style="grid-column: 1; grid-row: 10;" data-index="11">
            <div class="color-bar-left blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">V·ªãnh H·∫° Long</div>
            <div class="label">Qu·∫£ng Ninh</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 9;" data-index="12">
            <div class="color-bar-left blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">X·∫ªo Qu√Ωt</div>
            <div class="label">ƒê·ªìng Th√°p</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 8;" data-index="13">
            <div class="color-bar-left blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">H·ªì Ba B·ªÉ</div>
            <div class="label">B·∫Øc K·∫°n</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 7;" data-index="14">
            <div class="color-bar-left blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">N√∫i Fansipan</div>
            <div class="label">L√†o Cai</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 6;" data-index="15">
            <div class="color-bar-left yellow"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Di t√≠ch Ng·ª•c Kon Tum</div>
            <div class="label">T√¢y Nguy√™n</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 5;" data-index="16">
            <div class="color-bar-left yellow"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Th√°p Ch√†m Po Klong Garai</div>
            <div class="label">Ninh Thu·∫≠n</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 4;" data-index="17">
            <img src="/static/images/tui_tien_trai.png" width="120%" alt="">
            <div class="Gieo_Que"></div>
            <div class="label" style="display: none;">Gieo Qu·∫ª</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 3;" data-index="18">
            <div class="color-bar-left yellow"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">T√≤a Th√°nh T√¢y Ninh</div>
            <div class="label">T√¢y Ninh</div>
        </div>
        <div class="tile-left" style="grid-column: 1; grid-row: 2;" data-index="19">
            <div class="color-bar-left yellow"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">C·ªôt c·ªù L≈©ng C√∫</div>
            <div class="label">H√† Giang</div>
        </div>
        <div class="corner" style="grid-column: 1; grid-row: 1;" data-index="20">
          <img class="corner-img" src="/static/images/corner_3.png" alt="L·ªÖ H·ªôi">
          <div class="label" style="display: none;">L·ªÑ H·ªòI</div>
        </div>
      
        <!-- Top row: (21 -> 31) -->
        <div class="tile-top" style="grid-column: 2; grid-row: 1;" data-index="21">
            <div class="color-bar-top red"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Ch√πa Ghositaram</div>
            <div class="label">B·∫°c Li√™u</div>
        </div>
        <div class="tile-top" style="grid-column: 3; grid-row: 1;" data-index="22">
            <div class="color-bar-top red"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">ƒê·ªÅn H√πng</div>
            <div class="label">Ph√∫ Th·ªç</div>
        </div>
        <div class="tile-top" style="grid-column: 4; grid-row: 1;" data-index="23">
            <div class="color-bar-top red"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">M√π Cang Ch·∫£i</div>
            <div class="label">Y√™n B√°i</div>
        </div>
        <div class="tile-top" style="grid-column: 5; grid-row: 1;" data-index="24">
            <div class="color-bar-top red"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Ch√πa B√† ƒêanh</div>
            <div class="label">H√† Nam</div>
        </div>
        <div class="tile-top" style="grid-column: 6; grid-row: 1;" data-index="25">
            <div class="color-bar-top pink"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Th√†nh Nh√† H·ªì</div>
            <div class="label">Thanh H√≥a</div>
        </div>
        <div class="tile-top" style="grid-column: 7; grid-row: 1;" data-index="26">
            <div class="color-bar-top pink"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">ƒê·∫£o Ph√∫ Qu·ªëc</div>
            <div class="label">Ki√™n Giang</div>
        </div>
        <div class="tile-top" style="grid-column: 8; grid-row: 1;" data-index="27">
            <div class="color-bar-top pink"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Th√°c Datanla</div>
            <div class="label">L√¢m ƒê·ªìng</div>
        </div>
        <div class="tile-top" style="grid-column: 9; grid-row: 1;" data-index="28">
            <img src="/static/images/tui_tien_tren.png" width="480%" alt="">
            <div class="Gieo_Que"></div>
            <div class="label" style="display: none;">Gieo Qu·∫ª</div>
        </div>
        <div class="tile-top" style="grid-column: 10; grid-row: 1;" data-index="29">
            <div class="color-bar-top pink"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">ƒê·ªÅn Ch·ª≠ ƒê·ªìng T·ª≠</div>
            <div class="label">H∆∞ng Y√™n</div>
        </div>
        <div class="corner" style="grid-column: 11; grid-row: 1;" data-index="30">
          <img class="corner-img" src="/static/images/corner_4.png" alt="S√¢n bay">
          <div class="label" style="display: none;">S√ÇN BAY</div>
        </div>
      
        <!-- Right column: (31 -> 39) -->
        <div class="tile-right" style="grid-column: 11; grid-row: 2;" data-index="31">
            <div class="color-bar-right dark-blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Khu Di T√≠ch L·ªãch S·ª≠ Kim Li√™n</div>
            <div class="label">Ngh·ªá An</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 3;" data-index="32">
            <div class="color-bar-right dark-blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">ƒê·ªông ƒê√° B·∫°c</div>
            <div class="label">H√≤a B√¨nh</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 4;" data-index="33">
            <div class="color-bar-right dark-blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Kinh Th√†nh Hu·∫ø</div>
            <div class="label">Hu·∫ø</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 5;" data-index="34">
            <div class="color-bar-right dark-blue"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Th√°nh ƒë·ªãa La Vang</div>
            <div class="label">Qu·∫£ng Tr·ªã</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 6;" data-index="35">
            <div class="color-bar-right organe"></div> 
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Ch√πa D∆°i</div>
            <div class="label">S√≥c TrƒÉng</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 7;" data-index="36">
            <img src="/static/images/tui_tien_phai.png" width="120%" alt="">
            <div class="Gieo_Que"></div>
            <div class="label" style="display: none;">Gieo Qu·∫ª</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 8;" data-index="37">
            <div class="color-bar-right organe"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">B√† N√† Hills</div>
            <div class="label">ƒê√† N·∫µng</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 9;" data-index="38">
            <div class="color-bar-right organe"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Ph·ªë C·ªï H·ªôi An</div>
            <div class="label">Qu·∫£ng Nam</div>
        </div>
        <div class="tile-right" style="grid-column: 11; grid-row: 10;" data-index="39">
            <div class="color-bar-right organe"></div>
            <!--<img src="/static/images/street1.png" alt="">-->
            <div class="place-name">Th√°p B√†</div>
            <div class="label">Kh√°nh H√≤a</div>
        </div>
      </div>
      
    <!-- Nh√¢n v·∫≠t s·∫Ω di chuy·ªÉn -->
    <img id="player" class="player-token" src="" alt="Ng∆∞·ªùi ch∆°i">
    
    <!-- X√∫c s·∫Øc -->
    <div class="dice-container">
      <div id="dice" class="dice">üé≤</div>
      <button onclick="rollDice()">Tung x√∫c x·∫Øc</button>
    </div>
  </div>

    <!-- Popup S·ªü H·ªØu ƒê·ªãa Danh -->
    <div id="purchase-popup" class="popup hidden purchase-modal">
      <div class="purchase-body">
        <p id="purchase-title"></p>
      </div>
      <div class="purchase-footer">
        <button id="btn-purchase-yes" class="btn-purchase-yes">C√≥</button>
        <button id="btn-purchase-no" class="btn-purchase-no">Kh√¥ng, th√¥i</button>
      </div>
    </div>
  
    <!-- Popup Quiz -->
    <div id="quiz-popup" class="popup hidden quiz-modal">
      <div class="quiz-header">
        <h2 class="quiz-title">QUIZ: ƒê·ªäA DANH <span id="quiz-place">‚Ä¶</span></h2>
      </div>
      <div class="quiz-body">
        <form id="quiz-form" class="quiz-options">
        <!-- JS s·∫Ω inject question + options ·ªü ƒë√¢y -->
        </form>
      </div>
      <div class="quiz-footer">
        <button id="btn-quiz-submit" class="btn-confirm">X√°c nh·∫≠n</button>
      </div>
    </div>

    <!-- Popup Gieo Qu·∫ª -->
    <div id="popup-gieo-que" class="popup hidden gieo-que-modal">
      <div class="gieo-que-header">
        <button class="close-btn" id="btn-close-gieo">&times;</button>
        <h3 style="text-align:center;">Gieo Qu·∫ª</h3>
      </div>
      <div class="gieo-que-body">
        <p style="text-align:center;">Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ gieo qu·∫ª v√† xem ƒëi·ªÅm b√°o:</p>
        <button id="btn-gieo-que" class="btn-gieo" >Gieo</button>
        <div id="result-gieo" class="gieo-result hidden" style="margin: 18.750px"></div>
      </div>
    </div> 
    
    <!-- Metro Modal -->
<div id="popup-metro" class="popup hidden metro-modal">
  <button class="close-btn" id="btn-close-metro">&times;</button>
  <div class="metro-header">
    <h3>Ch·ªçn ƒëi·ªÉm d·ª´ng Metro</h3>
  </div>
  <div class="metro-body">
    <select id="metro-select" style="margin: 15px;"></select>
  </div>
  <div class="metro-footer">
    <button id="btn-confirm-metro" class="btn-confirm">ƒêi</button>
  </div>
</div>

  <!-- Popup X·ª≠ l√Ω V√†o T√π -->
<div id="popup-jail" class="popup hidden purchase-modal">
  <div class="purchase-body">
    <p id="jail-message"></p>
  </div>
  <div class="purchase-footer" id="jail-buttons">
    <!-- Buttons s·∫Ω ƒë∆∞·ª£c js inject -->
  </div>
</div>

  <!-- popup jail -->
<div id="popup-jail" class="popup hidden">
  <div id="jail-message"></div>
  <div id="jail-buttons"></div>
</div>

<!-- popup quiz jail -->
<div id="quiz-popup" class="popup hidden">
  <h3 id="quiz-title"></h3>
  <form id="quiz-form"></form>
  <button id="btn-quiz-submit">G·ª≠i</button>
</div>

<!-- popup festival -->
<div id="popup-festival" class="popup hidden">
  <h3>Ch·ªçn ƒë·ªãa danh ƒë·ªÉ t·ªï ch·ª©c L·ªÖ H·ªôi</h3>
  <select id="festival-select"></select>
  <div style="margin-top:12px; text-align:right;">
    <button id="btn-festival-ok">T·ªï ch·ª©c</button>
    <button id="btn-festival-cancel">H·ªßy</button>
  </div>
</div>

<!-- popup S√¢n bay -->
<div id="popup-airport" class="popup hidden">
  <h3>Ch√†o m·ª´ng ƒë·∫øn S√¢n bay!</h3>
  <p>Ch·ªçn √¥ b·∫°n mu·ªën bay ƒë·∫øn:</p>
  <select id="airport-select"></select>
  <div style="margin-top: 16px;">
    <button id="btn-confirm-airport">Bay ƒë·∫øn</button>
    <button id="btn-close-airport">H·ªßy</button>
  </div>
</div>

<!-- popup ho√†n t·∫•t KPI -->
<div id="popup-complete" class="popup hidden completion-modal">
  <div class="completion-content">
    <h3>üéâ Ch√∫c m·ª´ng! üéâ</h3>
    <p>B·∫°n ƒë√£ ho√†n th√†nh KPI v√† chi·∫øn th·∫Øng tr√≤ ch∆°i!</p>
    <button id="btn-complete-ok" class="btn-confirm">OK</button>
  </div>
</div>
  
  <script type="module" src="/static/js/main.js"></script>
  <script type="module" src="/static/js/board.js"></script>
</body>
</html>
